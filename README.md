# Фреймворк Зеркало 

Содержание:
- [Описание](#Описание)
- [Функциональность](#Функциональность)
- [Запуск в Docker](#Запуск-в-Docker)
- [Запуск исходного кода](#Запуск-исходного-кода)
- [FAQ](#faq)

# Описание
Основная задача фреймворка – считывание видео потока с источника, выделение информативных признаков лица и передача сторонним программам компьютера информации о взгляде и эмоциях.
1.	Определение 2D направленного взгляда пользователя на экране монитора.
2.	Определение мимических эмоций.

Сценарий использования 1:
Общий случай работы сторонних десктопных программ на любых языках программирования с информацией об эмоциях, взгляде, передаваемой от фреймворка «Зеркало».

# Функциональность


# Запуск в Docker

Это руководство описывает, как собрать и запустить приложение фреймворка "Зеркало" внутри Docker контейнера на вашем локальном компьютере.

## Предварительные требования

Перед началом убедитесь, что на вашем компьютере установлен Docker. 
Например, запустите его кликнув по значку в меню Пуск Windows. Или скачайте docker-desktop по ссылке https://www.docker.com/products/docker-desktop/
Также вам потребуется X сервер для графического вывода, для чего мы рекомендуем использовать Xming для пользователей Windows.


## Сборка Docker образа

1) Запустите программу docker кликнув по значку в меню Пуск Windows. Или скачайте docker-desktop по ссылке https://www.docker.com/products/docker-desktop/

2) Скачайте исходный код проекта в рабочую папку
```bash
git clone https://github.com/Stepan5024/EyeGazeFrameworkDemo.git
cd EyeGazeFrameworkDemo
```

3) Для сборки вашего Docker образа выполните следующую команду в терминале, где находится Dockerfile:

```bash
docker build -t gaze-tracking-server .
```
> Эта команда создает Docker образ с именем gaze-tracking-server, основанный на инструкциях подготовленного заранее Dockerfile.

### Решение проблемы с доступом к камере в Docker:
Чтобы разрешить Docker контейнеру доступ к видеокамере, необходимо использовать параметр --device при запуске контейнера. Это позволит пробросить устройство камеры внутрь контейнера.
дентификация устройства камеры:

Сначала убедитесь, какие видеоустройства доступны на вашем хосте. На Linux это можно сделать с помощью команды:

```
ls /dev | grep video
```
### Модификация команды запуска Docker:
Добавьте параметр --device к вашей команде запуска контейнера, чтобы предоставить доступ к видеокамере. Например, если ваше устройство называется /dev/video0:

```
docker run -p 9556:9556 --device /dev/video0:/dev/video0 gaze-tracking-server
```
4) Запустите сервер командой ниже
```
docker run -p 9556:9556 gaze-tracking-server
```
> Эта команда ...
Использование виртуальной машины с Linux
Если прямой доступ к камере необходим, и у вас нет возможности использовать сетевую камеру, один из вариантов — это установка виртуальной машины с Linux на вашем компьютере Windows 11. Таким образом, вы сможете использовать функциональность Linux в Docker для прямого доступа к камере через /dev/video интерфейс.

Установите виртуальную машину с помощью таких программ, как VirtualBox или VMware.
Установите на виртуальной машине Docker.
Настройте проброс устройства камеры в настройках виртуальной машины.
Запустите ваш Docker-контейнер на виртуальной машине с Linux, используя параметр --device.

# Использование
Если вы столкнетесь с какими-либо проблемами обратитесь к Степану Бокареву -- он поможет.

Возможно Docker не получиться использовать, тогда перейдите к тому чтобы использовать исходный код. Инструкция по запуску исходного кода ниже
# Запуск исходного кода

Эта инструкция поможет вам настроить и запустить Python-проект на вашем локальном компьютере.

## Предварительные требования

Убедитесь, что на вашем компьютере установлены следующие инструменты:

- Python 3.10 https://www.python.org/downloads/release/python-3100/
- pip (менеджер пакетов для Python)

## Установка

Следуйте этим шагам для настройки проекта:

### Шаг 1: Клонирование репозитория

Клонируйте репозиторий проекта с помощью git:

```bash
git clone https://github.com/Stepan5024/EyeGazeFrameworkDemo.git
cd EyeGazeFrameworkDemo
```
### Шаг 2: Создание виртуального окружения
Создайте виртуальное окружение для изоляции зависимостей проекта:

Для пользователей Windows
```bash
python -m venv env
env\Scripts\activate
```

Для пользователей macOS и Linux
```
python3 -m venv env
source env/bin/activate
```

### Шаг 3: Установка зависимостей
Установите необходимые зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```

## Запуск проекта
После установки всех зависимостей вы можете запустить проект следующей командой:
```
python server.py
```
### Шаг 4: Деактивация виртуального окружения
После завершения работы с проектом вы можете деактивировать виртуальное окружение:

```
deactivate
```

# Проблемы и решения
Если у вас возникнут проблемы с установкой или запуском проекта, пожалуйста, проверьте следующее:

* Убедитесь, что вы активировали виртуальное окружение перед установкой зависимостей. (env\Scripts\activate)
* Убедитесь, что используете версию Python 3.10

Если проблемы сохраняются, пожалуйста, создайте issue в репозитории проекта на GitHub или обратитесь к Степану Бокареву.

